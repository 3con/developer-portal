{
    "name": "auth-me",
    "runtime": "nodejs4.3",
    "description": "Serverless Lambda function for project: keboola-developer-portal",
    "customName": false,
    "customRole": false,
    "handler": "auth/me/handler.handler",
    "timeout": 30,
    "memorySize": 1024,
    "authorizer": {},
    "custom": {
        "cors": {
            "allowOrigin": "*",
            "allowHeaders": ["Content-Type", "X-Amz-Date", "Authorization", "X-Api-Key"]
        }
    },
    "endpoints": [
        {
            "path": "auth/me",
            "method": "GET",
            "type": "AWS",
            "authorizationType": "custom",
            "authorizerFunction": "authorizer",
            "apiKeyRequired": false,
            "requestParameters": {},
            "requestTemplates": {
                "application/json": "{\"userId\": \"$context.authorizer.principalId\",\"token\":\"$input.params().header.get('Authorization')\"}"
            },
            "responses": "$${endpointResponsesTemplate}"
        }
    ],
    "events": [],
    "environment": {
        "SERVERLESS_PROJECT": "${project}",
        "SERVERLESS_STAGE": "${stage}",
        "SERVERLESS_REGION": "${region}",
        "COGNITO_USER_IDENTITY_POOL_ID": "${cognitoUserIdentityPoolId}"
    },
    "vpc": {
        "securityGroupIds": [],
        "subnetIds": []
    }
}